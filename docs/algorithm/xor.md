# ä¸è¿ç®—

## è®¤è¯†&

& æŒ‰ä½ä¸æ“ä½œï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œ"ä¸"è¿ç®—ã€‚è¿ç®—è§„åˆ™ï¼šï¼ˆæœ‰ 0 åˆ™ä¸º 0ï¼‰

- 0 & 0 = 0;
- 0 & 1 = 0;
- 1 & 0 = 0;
- 1 & 1 = 1;

## -x çš„å«ä¹‰ ä¸ x & (-x)

-x çš„å€¼ï¼Œ å…¶å®å°±æ˜¯åœ¨ x çš„å€¼çš„åŸºç¡€ä¸Šè¿›è¡ŒæŒ‰ä½å–å(~x)ä¹‹ååœ¨å¢åŠ  1 æ‰€å¾—ï¼Œå³$x & -x == x & (~x + 1)$

### x ä¸ºå¶æ•°

```js
x = 0000 0100 1110   // å‡è®¾xä¸ºå¶æ•°ï¼Œæ¯”å¦‚0000 0100 1110
ï½x = 1111 1011 0001 // å–ååå°±æ˜¯1111 1011 0001
ï½x+1 = 1111 1011 0001 + 1 = 1111 1011 0010   // å†åŠ 1å°±ç­‰äº1111 1011 0010

x & (~x + 1) = 0000 0000 0010        //x & (-x)çš„ç»“æœå°±æ˜¯0000 0000 0010
```

### x ä¸ºå¥‡æ•°

```js
x = 0000 0100 1111    // å‡è®¾xä¸ºå¥‡æ•°ï¼Œæ¯”å¦‚ 0000 0100 1111
ï½x = 1111 1011 0000  // å–ååä¸º1111 1011 0000
ï½x+1 = 1111 1011 0001 //ç”±äºï½xçš„å€¼ä¸€å®šæ˜¯å¶æ•°ï¼Œå› æ­¤åŠ 1æ—¶å¿…ä¸ä¼šäº§ç”Ÿè¿›ä½
x & (~x + 1) = 0000 0000 0001  // x & (~x + 1)ç»“æœå°±æ˜¯ 0000 0000 0001ï¼Œæœ€åä¸€ä½å¿…å®šä¸º1ï¼Œå…¶ä»–ä½å¿…å®šä¸º0
```

> ç»“è®ºï¼š
>
> - x ä¸ºå¶æ•°ï¼Œ$x & (-x)$çš„äºŒè¿›åˆ¶è¡¨è¾¾å¼åªä¼šæœ‰ä¸€ä½ä¿ç•™ä¸º 1
> - x ä¸ºå¥‡æ•°ï¼Œ$x & (-x)$çš„äºŒè¿›åˆ¶è¡¨è¾¾å¼æœ€åä¸€ä½å¿…å®šä¸º 1ï¼Œå…¶å®ƒä¸º 0
> - x ä¸º 0 æ—¶ï¼Œ$x & (-x)$çš„äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸º 0
>   $x & (-x)$ ä¸€èˆ¬æ˜¯ç”¨æ¥è·å–æŸä¸ªäºŒè¿›åˆ¶æ•°çš„æœ€ä½ä½çš„ 1 æ‰€å¯¹åº”çš„å€¼

# å¼‚æˆ–è¿ç®—

è¿ç®—ç¬¦å·ä¸ºï¼šâŠ•ï¼ˆä»£ç ä¸­å°±æ˜¯^ï¼‰ã€‚

> å¦‚æœ aã€b ä¸¤ä¸ªå€¼ä¸ç›¸åŒï¼Œåˆ™å¼‚æˆ–ç»“æœä¸º 1ï¼›å¦‚æœå€¼ç›¸åŒï¼Œåˆ™ä¸º 0
> ç”¨ 1 è¡¨ç¤ºçœŸï¼Œ0 è¡¨ç¤ºå‡ï¼Œåˆ™å¼‚æˆ–è¿ç®—æ³•åˆ™ä¸ºï¼š0âŠ•0=0ï¼Œ0âŠ•1=1ï¼Œ1âŠ•0=1ï¼Œ1âŠ•1=0ã€‚

å¼‚æˆ–è¿ç®—ä¹Ÿè¢«å¸¸ç§°ä¸ºä¸è¿›ä½åŠ æ³•ï¼š
10110âŠ•00111=10001

## æ€§è´¨

- æ»¡è¶³äº¤æ¢å¾‹ã€ç»“åˆå¾‹
- 0âŠ•a=aã€aâŠ•a=0 (æ³¨æ„ 1âŠ•a!=a)

## å¼‚æˆ–è¿ç®—åœ¨è®¡ç®—æœºä¸­çš„åº”ç”¨

ä¸¾ä¸ª ğŸŒ°â€”â€”äº¤æ¢å€¼ï¼š

```js
int a = ç”²
int b = ä¹™
a=aâŠ•b;   //a=ç”²âŠ•ä¹™ï¼Œb=ä¹™
b=aâŠ•b;   //a=ç”²âŠ•ä¹™ï¼Œb=ç”²âŠ•ä¹™âŠ•ä¹™=ç”²âŠ•0=ç”²
a=aâŠ•b;   //a=ç”²âŠ•ä¹™âŠ•ç”²=0âŠ•ä¹™=ä¹™ï¼Œb=ç”²
```

> æ³¨æ„ï¼šèƒ½ç”¨è¿™ä¸ªæ–¹å¼çš„å‰ææ˜¯ï¼Œa ä¸ b æ‰€æŒ‡å‘çš„æ˜¯ä¸åŒçš„å†…å­˜ã€‚

## LeetCode ä¸­å¥‡å¦™çš„å¼‚æˆ–è¿ç®—

### [LeetCode-136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode-cn.com/problems/single-number/)

```js
var singleNumber = function (nums) {
  let xor = 0;
  for (let i = 0; i < nums.length; i++) {
    console.log(i);
    xor ^= nums[i];
  }
  console.log(1 ^ 87, 0 ^ 87);
  return xor;
};
```

#### é¢˜ç›®å˜å½¢

ç»™å®šä¸€ä¸ª**éç©º**æ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°å¥‡æ•°æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°å¶æ•°æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†å¥‡æ•°æ¬¡çš„å…ƒç´ ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸º$O(N)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$

> æ€è·¯ï¼š0 é€ä¸ªå¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œå¼‚æˆ–ï¼Œæœ€åå‰©ä¸‹çš„æ•°å°±æ˜¯åªå‡ºç°å¥‡æ•°æ¬¡çš„å…ƒç´ ï¼ˆç”±äºå‡ºç°å¶æ•°æ¬¡çš„æ•°å¼‚æˆ–åå°±æ˜¯ 0ï¼‰

### [LeetCode-260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III](https://leetcode-cn.com/problems/single-number-iii/)

```js
var singleNumber = function (nums) {
  let eor = 0;
  for (let i = 0; i < nums.length; i++) {
    eor ^= nums[i];
  }
  let rightOne = eor & -eor;
  let type1 = 0;
  let type2 = 0;
  for (const num of nums) {
    if (num & rightOne) {
      type1 ^= num;
    } else {
      type2 ^= num;
    }
  }
  return [type1, type2];
};
```

#### é¢˜ç›®å˜å½¢

ç»™å®šä¸€ä¸ª**éç©º**æ•´æ•°æ•°ç»„ï¼Œæœ‰ä¸¤ä¸ªå…ƒç´ å‡ºç°å¥‡æ•°æ¬¡ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°å¶æ•°æ¬¡ã€‚æ‰¾å‡ºåªå‡ºç°äº†å¥‡æ•°æ¬¡çš„å…ƒç´ ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸º$O(N)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$

> - æ€è·¯ï¼šå‡è®¾å‡ºç°å¥‡æ•°æ¬¡çš„ä¸¤ä¸ªå…ƒç´ æ˜¯ x å’Œ yï¼Œé‚£ä¹ˆ 0 é€ä¸ªå¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œå¼‚æˆ–çš„ç»“æœä¸º eorï¼ˆeor=x^yï¼Œä¸” eor ä¸ä¸º 0ï¼Œeor å¿…ç„¶æœ‰ä¸€ä¸ªä½ç½®ä¸Šä¸º 1ï¼Œå‡è®¾è¿™ä¸ªä½ç½®ä¸º kï¼Œé‚£ä¹ˆåœ¨ k ä½ï¼Œx å’Œ y ä¸ç›¸åŒï¼‰ï¼›æ‰¾åˆ° eor ä¸­ä¸º 1 çš„æŸä¸€ä½ï¼Œå‡è®¾ä¸ºç¬¬ k ä½ï¼ŒæŒ‰ k æ˜¯å¦ä¸º 1 å°†æ‰€æœ‰å…ƒç´ åˆ†ä¸ºä¸¤ç»„ï¼Œè¿™æ ·çš„è¯ï¼Œx å’Œ y åˆ†åˆ«ä½äºä¸åŒç»„ä¸­ï¼›ä¸åŒç»„ä¸­å¯¹å­å…ƒç´ è¿›è¡Œå¼‚æˆ–ï¼Œæœ€åç»“æœåˆ†åˆ«å°±æ˜¯ x å’Œ y
> - éš¾ç‚¹ï¼šå¦‚ä½•æ‰¾åˆ° eor ä¸­æœ€å³ä¸º 1 çš„ä½ç½®

# æœ‰å…³äºä½å…ƒç®—çš„é¢˜ç›®

[136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode-cn.com/problems/single-number/)  
[137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— II](https://leetcode-cn.com/problems/single-number-ii/)  
[260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III](https://leetcode-cn.com/problems/single-number-iii/)  
[å‰‘æŒ‡ Offer II 004. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode-cn.com/problems/WGki4K/)  
[å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°](https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/)  
[190. é¢ å€’äºŒè¿›åˆ¶ä½](https://leetcode-cn.com/problems/reverse-bits/)  
[191. ä½ 1 çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-1-bits/)  
[231. 2 çš„å¹‚](https://leetcode-cn.com/problems/power-of-two/)  
[338. æ¯”ç‰¹ä½è®¡æ•°](https://leetcode-cn.com/problems/counting-bits/)  
[342. 4 çš„å¹‚](https://leetcode-cn.com/problems/power-of-four/)  
[371. ä¸¤æ•´æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-of-two-integers/)  
[405. æ•°å­—è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°](https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/)  
[461. æ±‰æ˜è·ç¦»](https://leetcode-cn.com/problems/hamming-distance/)  
[476. æ•°å­—çš„è¡¥æ•°](https://leetcode-cn.com/problems/number-complement/)  
[477. æ±‰æ˜è·ç¦»æ€»å’Œ](https://leetcode-cn.com/problems/total-hamming-distance/)  
[526. ä¼˜ç¾çš„æ’åˆ—](https://leetcode-cn.com/problems/beautiful-arrangement/)  
[1178. çŒœå­—è°œ](https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/)  
[1711. å¤§é¤è®¡æ•°](https://leetcode-cn.com/problems/count-good-meals/)
