## é€‰æ‹©æ’åº

:::success{title=æ€è·¯}

- 1.æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å°å€¼ï¼Œé€‰ä¸­å®ƒå¹¶å°†å…¶æ”¾ç½®åœ¨ç¬¬ä¸€ä½
- 2.æ¥ç€æ‰¾åˆ°ç¬¬äºŒå°çš„å€¼ï¼Œé€‰ä¸­å®ƒå¹¶å°†å…¶æ”¾ç½®åœ¨ç¬¬äºŒä½
- 3.ä»¥æ­¤ç±»æ¨ï¼Œæ‰§è¡Œ n-1 è½®
  :::

:::info{title=å¤æ‚åº¦}

- æ—¶é—´å¤æ‚åº¦ä¸º`O(N^2)`
- ç©ºé—´å¤æ‚åº¦ä¸º`O(1)`
  :::

```js
Array.prototype.selectionSort = function () {
  for (let i = 0; i < this.length - 1; i++) {
    let minIndex = i;
    for (let j = i; j < this.length; j++) {
      if (this[j] < this[minIndex]) {
        minIndex = j;
      }
    }
    if (minIndex !== i) {
      const temp = this[i];
      this[i] = this[minIndex];
      this[minIndex] = temp;
    }
  }
};

const arr = [5, 7, 3, 2, 1];
arr.selectionSort();
```

[ä»£ç ç‰‡æ®µ](https://code.juejin.cn/pen/7087242499416129572)

## å†’æ³¡æ’åº

:::success{title=æ€è·¯}

- 1.æ¯”è¾ƒæ‰€æœ‰ç›¸é‚»å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œåˆ™äº¤æ¢å®ƒä»¬
- 2.ä¸€è½®ä¸‹æ¥ï¼Œå¯ä»¥ä¿è¯æœ€åä¸€ä¸ªæ•°æ˜¯æœ€å¤§çš„ï¼ˆç¬¬ä¸€è½®ç¡®å®šäº†ç¬¬ n ä½ç½®çš„æ•°ï¼Œç¬¬äºŒè½®ç¡®å®šäº†ç¬¬ n-1 ä½ç½®çš„æ•°ï¼‰
- 3.æ‰§è¡Œ n-1 è½®ï¼Œå°±å¯ä»¥å®Œæˆæ’åº

:::

:::info{title=å¤æ‚åº¦}

- æ—¶é—´å¤æ‚åº¦ä¸º`O(N^2)`
- ç©ºé—´å¤æ‚åº¦ä¸º`O(1)`
  :::

```js
Array.prototype.bubbleSort = function () {
  for (let i = this.length; i > 0; i--) {
    for (let j = 0; j < i; j++) {
      if (this[j] > this[j + 1]) {
        let temp = this[j];
        this[j] = this[j + 1];
        this[j + 1] = temp;
      }
    }
  }
};
const arr = [5, 4, 3, 2, 1];
arr.bubbleSort();
```

## æ’å…¥æ’åº

:::success{title=æ€è·¯}

- 1.ä»ç¬¬äºŒä¸ªæ•°å¼€å§‹**å¾€å‰æ¯”**
- 2.æ¯”å®ƒå¤§å°±**å¾€åæ’**
- 3.ä»¥æ­¤ç±»æ¨è¿›è¡Œåˆ°æœ€åä¸€ä¸ªæ•°ï¼Œä»è€Œä¾æ¬¡ç¡®å®š 0ï¼Œ1ï¼Œ2...ä½ç½®çš„æ•°

ç‰¹æ®Šï¼šæ ¹æ®æ•°æ®çš„ä¸åŒï¼Œå®é™…çš„å¸¸æ•°æ“ä½œæ¬¡æ•°ä¸åŒã€‚ä¸è¿‡æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‰æœ€å·®æƒ…å†µä¼°è®¡ï¼Œæ‰€ä»¥è¯´æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º$O(N^2)$ã€‚

:::

:::info{title=å¤æ‚åº¦}

- æ—¶é—´å¤æ‚åº¦ä¸º`O(N^2)`
- ç©ºé—´å¤æ‚åº¦ä¸º`O(1)`
  :::

```js
Array.prototype.insertSort = function () {
  for (let i = 1; i < this.length; i++) {
    for (let j = i - 1; j >= 0 && this[j] > this[j + 1]; j--) {
      console.log(this[j]);
      const temp = this[j];
      this[j] = this[j + 1];
      this[j + 1] = temp;
    }
  }
};

const arr = [5, 4, 3, 2, 1];
arr.insertSort();
```

## å½’å¹¶æ’åº

:::success{title=æ€»ä½“æ€è·¯}

- åˆ†ï¼šæŠŠæ•°ç»„åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œå†é€’å½’çš„å¯¹å­æ•°ç»„è¿›è¡Œâ€œåˆ†â€æ“ä½œï¼Œç›´åˆ°åˆ†æˆä¸€ä¸ªä¸ªå•ç‹¬çš„æ•°
- åˆï¼šæŠŠä¸¤ä¸ªæ•°åˆå¹¶ä¸ºæœ‰åºæ•°ç»„ï¼Œå†å¯¹æœ‰åºæ•°ç»„è¿›è¡Œåˆå¹¶ï¼Œç›´åˆ°å…¨éƒ¨å­æ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªå®Œæ•´æ•°ç»„
  :::

:::success{title=åˆå¹¶çš„æ€è·¯}

- æ–°å»ºä¸€ä¸ªç©ºæ•°ç»„ resï¼Œç”¨äºå­˜æ”¾æœ€ç»ˆæ’åºåçš„æ•°ç»„
- æ¯”è¾ƒä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å¤´éƒ¨ï¼Œè¾ƒå°è€…å‡ºé˜Ÿå¹¶æ¨å…¥ res ä¸­
- å¦‚æœæœ‰ä¸¤ä¸ªæ•°ç»„è¿˜æœ‰å€¼ï¼Œé‡å¤ä¸Šä¸€æ­¥éª¤
  :::

:::info{title=å¤æ‚åº¦}

- åˆ†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(logN)
- åˆçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)
- æ—¶é—´å¤æ‚åº¦æ˜¯ O(n\*logN)
  :::

### js ç‰ˆæœ¬çš„å®ç°

```js
Array.prototype.mergeSort = function () {
  const rec = (arr) => {
    if (arr.length === 1) {
      return arr;
    }
    const mid = arr.length >> 1;
    const left = arr.slice(0, mid);
    const right = arr.slice(mid, arr.length);
    const orderLeft = rec(left);
    const orderRight = rec(right);
    const res = [];
    while (orderLeft.length || orderRight.length) {
      if (orderLeft.length && orderRight.length) {
        res.push(
          orderLeft[0] < orderRight[0] ? orderLeft.shift() : orderRight.shift(),
        );
      } else if (orderLeft.length) {
        res.push(orderLeft.shift());
      } else if (orderRight.length) {
        res.push(orderRight.shift());
      }
    }
    return res;
  };
  const res = rec(this);
  res.forEach((n, i) => {
    this[i] = n;
  });
};

const arr = [5, 7, 3, 2, 1];
arr.mergeSort();
```

### å·¦ç¥ç‰ˆæœ¬çš„å®ç°

```java
public static void process(int[] arr, int L, int R){
    if(L==R){
        return;
    }
    int mid = L+((R-L)>>1);
    process(arr, L,mid);
    process(arr, mid+1,R);
    merge(arr,L,mid,R);
}

public static void merge(int[] arr, int L, int M, int R){
    int[] help=new int[R-L+1];
    int i = 0;
    int p1=L;
    int p2=M+1;
    while(p1<=M &&p2<=R){
        help[i++]=arr[p1]<=arr[p2]?arr[p1++]:arr[p2++];
    }
    while(p1<=M){
        help[i++]=arr[p1++];
    }
    while(p2<=R){
        help[i++]=arr[p2++];
    }
    for(i=0;i<help.length;i++){
        arr[L+i]=help[i];
    }
}
```

æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n*log{N})$ï¼ˆåˆ†çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(log{N})$ï¼Œåˆçš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ï¼‰ï¼›ç©ºé—´å¤æ‚åº¦ä¸º$O(N)$
[ä»£ç ç‰‡æ®µ](https://code.juejin.cn/pen/7087890047269077004)

### æ±‚è¯ Master å…¬å¼

#### ç”¨é€’å½’æ–¹æ³•æ‰¾ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€å¤§å€¼

å‡å¦‚éœ€è¦åœ¨æ•°ç»„[6,1,3,5,4]æ•°ç»„ä¸­æ‰¾å‡ºå…¶æœ€å¤§å€¼ï¼Œç®—æ³•æ–¹æ³•ä¸º getMaxï¼Œé‚£ä¹ˆç»“æœ res=getMax(6,1,3,5,4)=getMax(getMax(6,1,3),getMax(5,4))=getMax(getMax(6,1,3),getMax(5,4))=getMax(getMax(getMax(6,1),getMax(3,3)),getMax(getMax(5,5),getMax(4,4)))=...ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨é€’å½’å»æ±‚è§£ã€‚

çªç ´ç‚¹ï¼šç”¨ä»€ä¹ˆæ ‡å¿—é€’å½’çŠ¶æ€ï¼Ÿâ€”â€”æ‰€æ±‚æ•°ç»„èŒƒå›´çš„ leftIndexã€rightIndexã€‚

å®ç°ï¼š

```js
public class GetMax{
    public static int getMax(int[] arr){
        return process(arr, 0, arr.length - 1);
    }
}
// arr[L...R]èŒƒå›´ä¸Šæ±‚æœ€å¤§å€¼
public static int process(int[] arr, int L, int R){
    if(L==R){
        return arr[L];  // arr[L...R]èŒƒå›´ä¸Šåªæœ‰ä¸€ä¸ªæ•°ï¼Œç›´æ¥è¿”å›
    }
    int mid = L+(R-1) >>1;  // ä¸­ä½
    int leftMax = process(arr, L, mid);
    int rightMax = process(arr, mid+1, R);
    return Math.max(leftMax, rightMax);
}
```

#### Master å…¬å¼

é€’å½’æ˜¯éå¸¸å¸¸è§çš„ä¸€ç§ç®—æ³•ï¼Œç”±äºé€’å½’ç›¸æ¯”é¡ºåºæ‰§è¡Œæˆ–å¾ªç¯ç¨‹åºï¼Œæ—¶é—´å¤æ‚åº¦éš¾ä»¥è®¡ç®—ï¼Œè€Œ master å…¬å¼å°±æ˜¯ç”¨äºè®¡ç®—é€’å½’ç¨‹åºçš„æ—¶é—´å¤æ‚åº¦ã€‚

:::info{title=å…¬å¼}
`T(N)=a\*T(N/b)+O(N^d)`

- `T(N)`è¡¨ç¤ºæ¯é—®é¢˜çš„æ•°æ®é‡
- `T(N/b)`è¡¨ç¤ºå­è¿‡ç¨‹æ¯æ¬¡é€’å½’çš„æ•°æ®é‡
- a è¡¨ç¤ºå­è¿‡ç¨‹è¢«è°ƒç”¨çš„æ¬¡æ•°
- `O(N^d)`è¡¨ç¤ºé™¤å»è°ƒç”¨ä¹‹å¤–çš„å‰©ä½™è¿‡ç¨‹
  :::

#### â€œç”¨é€’å½’æ–¹æ³•æ‰¾ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€å¤§å€¼â€çš„ç®—æ³•æ˜¯å¦ç¬¦åˆ Master å…¬å¼ï¼Ÿ

åœ¨ä¸Šè¿°çš„é—®é¢˜ä¸­ï¼Œå°†æ•°ç»„åˆ†ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ†çš„è®¡ç®—é‡ä¸º N/2ï¼Œè¿™ä¸ªå­è¿‡ç¨‹è°ƒç”¨äº† 2 æ¬¡ï¼Œé™¤å»è°ƒç”¨ä¹‹å¤–çš„å‰©ä½™è¿‡ç¨‹ï¼ˆå³æ¯”è¾ƒä¸¤éƒ¨åˆ†çš„æœ€å¤§å€¼ï¼‰æ—¶é—´å¤æ‚åº¦ O(1)ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šè¿°çš„é€’å½’ç®—æ³•çš„ master å…¬å¼ä¸º`T(N)=2*T(N/2)+ O(1)`

#### å½’å¹¶æ’åºæ˜¯å¦ç¬¦åˆ Master å…¬å¼ï¼Ÿ

å¯¹å½’å¹¶æ’åºè¿›è¡Œå…·ä½“åˆ†æï¼š
![](../img/merge-sort.png)
å› æ­¤æ˜¯æ»¡è¶³ master å…¬å¼çš„ï¼Œä¸º`T(N)=2*T(N/2)+ O(N)`ï¼Œå³æ—¶é—´å¤æ‚åº¦ä¸º`O(N * {logN})`ã€‚
å› ä¸ºåªéœ€è¦ä¸€ä¸ªé•¿åº¦ä¸º N çš„ä¸´æ—¶æ•°ç»„ï¼Œç©ºé—´å¤æ‚åº¦ä¸º`O(N)`ã€‚

### å°å’Œé—®é¢˜

å°å’Œé—®é¢˜å’Œé€†åºå¯¹é—®é¢˜æ˜¯å½’å¹¶æ’åºçš„ç®—æ³•çš„å»¶ä¼¸åº”ç”¨ã€‚

å°å’Œé—®é¢˜ï¼šåœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°å·¦è¾¹æ¯”å½“å‰æ•°å°çš„æ•°ç´¯åŠ èµ·æ¥ï¼Œå«åšè¿™ä¸ªæ•°ç»„çš„å°å’Œã€‚æ±‚ä¸€ä¸ªæ•°ç»„çš„å°å’Œã€‚

> ä¾‹å­ï¼š[1,3,4,2,5]ä¸­ï¼Œ1 å·¦è¾¹æ²¡æœ‰æ¯” 1 å°çš„æ•°ï¼›3 å·¦è¾¹æœ‰æ¯” 3 å°çš„æ•°ï¼š1ï¼›4 å·¦è¾¹æ¯”å®ƒå°çš„æ•°ï¼š1ã€3ï¼›2 å·¦è¾¹æ¯”å®ƒå°çš„æ•°ï¼š1ï¼›5 å·¦è¾¹æ¯”å®ƒå°çš„æ•°ï¼š1ã€3ã€4ã€2ï¼Œå› æ­¤å°å’Œä¸º$1+1+3+1+1+3+4+2=16$

æ¢ä¸‹æ€è·¯ç­‰æ•ˆï¼Œä¹Ÿå°±æ˜¯æ±‚æ¯ä¸€ä¸ªæ•°å³è¾¹æ¯”å½“å‰æ•°å¤§çš„ä¸ªæ•°ï¼Œ(ä¸ªæ•° \* å½“å‰æ•°) çš„ç´¯åŠ å’Œå°±æ˜¯ç»“æœï¼š

> åœ¨[1,3,4,2,5]ä¸­ï¼Œ1 å³è¾¹æ¯”å®ƒå¤§çš„æ•°æœ‰ 4 ä¸ªï¼Œäº§ç”Ÿ 4 ä¸ª 1 çš„å°å’Œï¼›3 å³è¾¹æ¯”å®ƒå¤§çš„æ•°æœ‰ 2 ä¸ªï¼Œäº§ç”Ÿ 2 ä¸ª 3 çš„å°å’Œï¼›4 å³è¾¹æ¯”å®ƒå¤§çš„æ•°æœ‰ 1 ä¸ªï¼Œäº§ç”Ÿ 1 ä¸ª 4 çš„å°å’Œï¼›2 å³è¾¹æ¯”å®ƒå¤§çš„æ•°æœ‰ 1 ä¸ªï¼Œäº§ç”Ÿ 1 ä¸ª 2 çš„å°å’Œï¼›5 å³è¾¹æ²¡æœ‰æ¯”å®ƒå¤§çš„æ•°ã€‚å› æ­¤å°å’Œä¸º$4*1+2*3+1*4+1*2=16$

ç¬¬äºŒç§æ€è·¯ï¼Œå¯ä»¥è½»æ¾çš„ç”¨å½’å¹¶æ’åºå¾—å‡ºã€‚ä¸‹é¢ç»™å‡ºå…·ä½“åˆ†ææ­¥éª¤ï¼š

- step1:åˆ†â€”â€”å°†æ•°ç»„åˆ†ä¸ºå·¦å³ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå†é€’å½’çš„å¯¹å­æ•°ç»„è¿›è¡Œâ€œåˆ†â€æ“ä½œï¼Œç›´åˆ°åˆ†æˆä¸€ä¸ªä¸ªå•ç‹¬çš„æ•°ã€‚

![](../img/xiaohe1.png)

- step2:åˆå¹¶(1,3)ï¼Œå·¦æŒ‡é’ˆæŒ‡å‘ 1ï¼Œå³æŒ‡é’ˆæŒ‡å‘ 3ï¼Œå½“å·¦ä¾§æŒ‡å‘å€¼<å³ä¾§æŒ‡å‘å€¼æ—¶äº§ç”Ÿå°å’Œï¼ˆ1 ä¸ª 1ï¼‰ï¼›åˆå¹¶ï¼ˆ1,3,4ï¼‰æ—¶ï¼Œå·¦æŒ‡é’ˆæŒ‡å‘ 1ï¼Œå³æŒ‡é’ˆæŒ‡å‘ 4ï¼Œäº§ç”Ÿ 1 ä¸ª 1ï¼Œå·¦æŒ‡é’ˆå³æ»‘åˆ° 3ï¼Œå³æŒ‡é’ˆè¿˜æ˜¯æŒ‡å‘ 4ï¼Œäº§ç”Ÿå°å’Œï¼ˆ1 ä¸ª 3ï¼‰
  ![](../img/xiaohe2.png)

- step3:åˆå¹¶ï¼ˆ1,3,4ï¼‰æ—¶ï¼Œå·¦æŒ‡é’ˆæŒ‡å‘ 1ï¼Œå³æŒ‡é’ˆæŒ‡å‘ 4ï¼Œäº§ç”Ÿ 1 ä¸ª 1ï¼Œå·¦æŒ‡é’ˆå³æ»‘åˆ° 3ï¼Œå³æŒ‡é’ˆè¿˜æ˜¯æŒ‡å‘ 4ï¼Œäº§ç”Ÿå°å’Œï¼ˆ1 ä¸ª 3ï¼‰
  ![](../img/xiaohe3.png)

- step4:åˆå¹¶(2,5)ï¼Œäº§ç”Ÿå°å’Œï¼ˆ1 ä¸ª 2ï¼‰
  ![](../img/xiaohe4.png)

- step5:åˆå¹¶(134ï¼Œ25)ï¼Œäº§ç”Ÿå°å’Œï¼ˆ2 ä¸ª 1ï¼Œ1 ä¸ª 3ï¼Œ1 ä¸ª 4ï¼‰
  ![](../img/xiaohe5.png)

#### å°å’Œé—®é¢˜ä¸å½’å¹¶æ’åº

åœ¨ä¸Šè¿°å°å’Œçš„åˆ†æè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ˜¯æ‰‹åŠ¨è®¡ç®—å³è¾¹æ¯”å½“å‰æ•°å¤§çš„æ•°é‡ï¼Œå¯¹äºç®—æ³•æ¥è¯´ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚é‚£å°å’Œé—®é¢˜ä¸å½’å¹¶æ’åºæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå…ˆæ¥å¤ä¹ ä¸‹å½’å¹¶æ’åºçš„æ€è·¯ã€‚

å°å’Œé—®é¢˜ä¸­çš„ merge è¿‡ç¨‹ï¼Œå¦‚æœå·¦å³ç›¸ç­‰ï¼Œå¿…é¡»è¦å…ˆ push å³è¾¹æ•°ç»„çš„æ•°ã€‚å…¶å®ƒè·Ÿå½’å¹¶æ’åºæ— å·®åˆ«ã€‚

```java
public static int process(int[] arr, int l, int r){
    if(l==r){
        retun 0;
    }
    int mid = l+((r-l)>>1);
    return process(arr,l,mid)+process(arr,mid+1,r)+merge(arr,l,mid,r)
}
public static int merge(int[] arr, int l, int m, int r){
    int[] help = new int[r-l+1];
    int i=0;
    int p1=l;
    int p2=m+1;
    int res=0;
    while(p1<=m &&p2<=r){
        res+=arr[p1] <arr[p2]?(r-p2+1)*arr[p1]:0;
        help[i++]=arr[p1]<arr[p2]?arr[p1++]:arr[p2++];
    }
    while(p1<=m){
        help[i++]=arr[p1++];
    }
    while(p2<=r){
        help[i++]=arr[p2++];
    }
    for(i=0;i<help.length;i++){
        arr[l+i]=help[i]
    }
    return res;
}
```

## å¿«é€Ÿæ’åº

:::info{title=æ€è·¯}

- åˆ†åŒºï¼šä»æ•°ç»„ä¸­ä»»æ„é€‰æ‹©ä¸€ä¸ªâ€œåŸºå‡†â€ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å°çš„å…ƒç´ æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ¯”åŸºå‡†å¤§çš„å…ƒç´ æ”¾åœ¨åŸºå‡†çš„åé¢ã€‚
- é€’å½’ï¼šé€’å½’åœ°å¯¹åŸºå‡†å‰åçš„å­æ•°ç»„è¿›è¡Œåˆ†åŒºã€‚
  :::

:::info{title=å¤æ‚åº¦}

- æ—¶é—´å¤æ‚åº¦ä¸º`O(logN)`
- ç©ºé—´å¤æ‚åº¦ä¸º`O(n)`
  :::

```js
Array.prototype.quickSort = function () {
  const rec = (arr) => {
    if (arr.length === 1) {
      return arr;
    }
    const left = [];
    const right = [];
    const mid = arr[0];
    for (let i = 1; i < arr.length; i += 1) {
      if (arr[i] < mid) {
        left.push(arr[i]);
      } else {
        right.push(arr[i]);
      }
    }
    return [...rec(left), mid, ...rec(right)];
  };
  const res = rec(this);
  res.forEach((n, i) => (this[i] = n));
};
const arr = [2, 4, 5, 3, 1];
arr.quickSort();
console.log(arr);
```

### ä»è·å…°å›½æ——é—®é¢˜è¯¦è§£å¿«æ’åŸç†

#### é—®é¢˜ä¸€

ç»™å®šä¸€ä¸ªæ•°ç»„ arrï¼Œå’Œä¸€ä¸ªæ•° numï¼Œè¯·æŠŠå°äºç­‰äº num çš„æ•°æ”¾åœ¨æ•°ç»„çš„å·¦è¾¹ï¼Œå¤§äº num çš„æ•°æ”¾åœ¨æ•°ç»„çš„å³è¾¹ã€‚è¦æ±‚é¢å¤–ç©ºé—´å¤æ‚åº¦ O(1)ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)

#### æ€è·¯

é€æ¬¡éå†æ•°ç»„ï¼Œæ¶‰åŠäº”ä¸ªæ¦‚å¿µï¼šå½“å‰ indexã€å½“å‰å€¼ curValueã€è™šæ‹Ÿçš„â€œå°äºåŒºâ€ã€è™šæ‹Ÿçš„â€œå¤§äºåŒºâ€ï¼Œé€æ¬¡éå†è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸‰ç§æƒ…å†µï¼š

- curValue < numï¼Œåˆ™â€œå°äºåŒºâ€å³æ‰©ä¸€ä¸ªï¼Œä¸”æœ€åä¸€ä¸ªå€¼ä¸ curValue äº¤æ¢ï¼Œindex++
- curValue > numï¼Œåˆ™â€œå¤§äºåŒºâ€å·¦æ‰©ä¸€ä¸ªï¼Œä¸”åŒºçš„ç¬¬ä¸€ä¸ªå€¼ä¸ curValue äº¤æ¢ï¼Œindex ä¸å˜

#### é—®é¢˜äºŒï¼ˆè·å…°å›½æ——é—®é¢˜ï¼‰

ç»™å®šä¸€ä¸ªæ•°ç»„ arrï¼Œå’Œä¸€ä¸ªæ•° numï¼Œè¯·æŠŠå°äº num çš„æ•°æ”¾åœ¨æ•°ç»„çš„å·¦è¾¹ï¼Œç­‰äº num çš„æ•°æ”¾åœ¨æ•°ç»„çš„ä¸­é—´ï¼Œå¤§äº num çš„æ•°æ”¾åœ¨æ•°ç»„çš„å³è¾¹ã€‚è¦æ±‚é¢å¤–ç©ºé—´å¤æ‚åº¦ O(1)ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)

#### æ€è·¯

é€æ¬¡éå†æ•°ç»„ï¼Œæ¶‰åŠäº”ä¸ªæ¦‚å¿µï¼šå½“å‰ indexã€å½“å‰å€¼ curValueã€è™šæ‹Ÿçš„â€œå°äºåŒºâ€ã€è™šæ‹Ÿçš„â€œä¸­é—´åŒºâ€ã€è™šæ‹Ÿçš„â€œå¤§äºåŒºâ€ï¼Œé€æ¬¡éå†è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸‰ç§æƒ…å†µï¼š

- curValue < numï¼Œåˆ™å½“å‰å€¼ä¸å°äºåŒºä¸‹ä¸€ä¸ªå€¼äº¤æ¢ï¼Œå°äºåŒºå³æ‰©ä¸€ä¸ªï¼Œi++
- curValue == numï¼Œåˆ™ç›´æ¥ index++
- curValue > numï¼Œåˆ™å½“å‰å€¼ä¸å¤§äºåŒºå‰ä¸€ä¸ªäº¤æ¢ï¼Œå¤§äºåŒºå·¦æ‰©ä¸€ä¸ªï¼Œi ä¸åŠ¨

### å¿«æ’ 1.0 ç‰ˆæœ¬

å¿«é€Ÿæ’åºçš„æ€è·¯è·Ÿä¸Šè¿°è·å…°å›½æ——é—®é¢˜çš„æ€è·¯ç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡åˆ†åŒºæ¥è§£å†³ã€‚

å‡è®¾ç°åœ¨éœ€è¦å¯¹æ•°ç»„[4,3,5,6,5,0,1,7,8,5]è¿›è¡Œå¿«é€Ÿæ’åºï¼Œé‚£ä¹ˆæ­¥éª¤å¦‚ä¸‹ï¼š

- step1ï¼ˆç¬¬ä¸€æ¬¡åˆ†åŒºï¼‰ï¼šä»¥æ•°ç»„æœ€åä¸€ä¸ªæ•° 5 ä½œä¸ºåŸºå‡†ï¼Œå†å°†æ•°ç»„æ‰€æœ‰çš„æ•°ï¼ˆåŒ…æ‹¬æœ€åä¸€ä¸ªæ•° 5ï¼‰è¿›è¡Œåˆ†åŒºï¼Œå¾—åˆ°[4,3,0,1,5,5,5,8,7,6]ã€‚è¿™é‡Œçš„â€œä¸­é—´åŒºâ€[5,5,5]å°±äº§ç”Ÿäº†ï¼Œå¹¶ä¸”å®ƒä»¬çš„ä½ç½®æ˜¯ç¡®å®šçš„ï¼Œä¹‹åçš„æ¯”è¾ƒå°±ä¸éœ€è¦å†æ¯”è¾ƒâ€œä¸­é—´åŒºâ€äº†ï¼Œä¸€æ¬¡éå†å°±ç¡®å®šäº†ä¸€å¤§å—æ•°æ®ï¼Œæ‰€ä»¥å«**å¿«é€Ÿ**æ’åºã€‚
- step2ï¼ˆç¬¬äºŒæ¬¡åˆ†åŒºï¼‰:å¯¹â€å°äºåŒºâ€œ[4,3,0,1]è¿›è¡Œåˆ†åŒºï¼Œä»¥æœ€åä¸€ä¸ªå€¼ 1 ä½œä¸ºåŸºå‡†ï¼Œå°±å¾—åˆ°[1,0,3,4]ï¼›å¯¹â€œå¤§äºåŒºâ€[8,7,6]è¿›è¡Œåˆ†åŒºï¼Œä»¥ 6 ä½œä¸ºåŸºå‡†å°±å¾—åˆ°[6,7,8]ã€‚
- ä»¥æ­¤è¿›è¡Œé€’å½’ï¼Œå°±ä¼šå¾—åˆ°æœ€åæ’å¥½åºçš„æ•°ç»„

:::warning{title=å¤æ‚åº¦}
ä»åˆ†æè¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼Œæ¯æ¬¡åˆ†åŒºéƒ½åªæ˜¯ç¡®å®šäº†ä¸€ä¸ªæ•°çš„ä½ç½®ã€‚é‚£ä¹ˆå…¶æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿ

ä¸¾ä¸ª ğŸŒ°ï¼šå‡å¦‚å¯¹æ•°ç»„[1,2,3,5,6,7,8,9]è¿›è¡Œå¿«é€Ÿæ’åºï¼ˆæœŸé—´æ²¡æœ‰â€œå°äºåŒºâ€å’Œâ€œä¸­é—´åŒºâ€ï¼‰ã€‚å½“ä»¥ 9 ä¸ºåŸºå‡†çš„æ—¶å€™ï¼Œéå†æ•´ä¸ªæ•°ç»„ï¼Œæœ€ç»ˆç¡®å®šäº† 9 çš„ä½ç½®ï¼›å½“ä»¥ 8 ä¸ºåŸºå‡†çš„æ—¶å€™ï¼Œéå†[1,2,3,5,6,7,8]ï¼Œæ‰ç¡®å®šäº† 8 çš„ä½ï¼›...ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ 9+8+7+...ã€‚å½“æ•°ç»„ç‰¹åˆ«å¤§æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦å°±æ˜¯$O(N^2)$
:::

:::warning{title=æ—¶é—´å¤æ‚åº¦é«˜çš„åŸå› }
å…ˆæ¥è¯´ä¸€ç§æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬æ‰¾çš„åŸºå‡†ï¼Œåˆšå¥½ä½¿å¾—â€œå°äºåŒºâ€å’Œâ€œå¤§äºåŒºâ€æ•°æ®é‡ä¸€æ ·å¤§ï¼Œè¿™å°±ä½¿å¾—é€’å½’è¿‡ç¨‹ç¬¦åˆ**Master å…¬å¼**ï¼ˆä»€ä¹ˆæ˜¯ Master å…¬å¼ï¼Ÿçœ‹[è¿™é‡Œ](https://juejin.cn/post/7088691002424164365)ï¼‰:$T(N)=2*T(N/2)+O(N)$ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦å°±æ˜¯$O(N * {logN})$ã€‚

> æ€»ç»“ï¼šæ‰€ä»¥ï¼Œå¿«æ’ 1.0 ç‰ˆæœ¬çš„æ—¶é—´å¤æ‚åº¦ä¹‹æ‰€ä»¥é«˜ï¼Œæ˜¯å› ä¸ºåŸºå‡†æ‰¾çš„ä¸å¯¹ï¼ˆæœ€å¥½æƒ…å†µæ—¶é—´å¤æ‚åº¦æ˜¯$O(N * {logN})$ï¼Œæœ€åæƒ…å†µæ—¶é—´å¤æ‚åº¦æ˜¯$O(N^2)$ï¼‰ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å¯¹ä¸Šè¿°çš„å¿«æ’ç®—æ³•è¿›è¡Œä¼˜åŒ–ã€‚

:::

### å¿«æ’ 2.0 ç‰ˆæœ¬

åœ¨å¿«æ’ 1.0 çš„ç‰ˆæœ¬åŸºç¡€ä¸Šï¼Œå¯¹äºåŸºå‡†çš„é€‰å–åšäº†ä¼˜åŒ–ï¼š**åœ¨æ•°ç»„ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªæ•°ï¼Œå¹¶ä¸æœ€åä¸€ä¸ªæ•°è¿›è¡Œäº¤æ¢ï¼Œç”¨è¿™ä¸ªéšæœºé€‰å–çš„æ•°ä½œä¸ºåŸºå‡†ã€‚**

```java
public static void quickSort(int[] arr, int l,int r){
    if(l<r){
        swap(arr, l+(int)(Math.random() * (R-L+1)), r);
        int[] p = partition(arr,l,r);
        quickSort(arr,l,p[0]-1);  // å°äºåŒº
        quickSort(arr,p[1]+1,r);  // å¤§äºåŒº
    }
}
// è¿™æ˜¯ä¸€ä¸ªå¤„ç†arr[l...r]çš„å‡½æ•°
// è¿”å›ç­‰äºåŒºåŸŸï¼ˆå·¦è¾¹ç•Œï¼Œå³è¾¹ç•Œï¼‰ï¼Œæ‰€ä»¥è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º2çš„æ•°ç»„resï¼Œres[0] res[1]
// å‡è®¾[3,6,2,5,7,5],éšæœºæ•°é€‰åˆ°äº†5å¹¶å’Œæœ€åä¸€ä¸ªæ•°äº¤æ¢ï¼Œç„¶åå¾—åˆ°[3,2,5,5,6,7]ï¼Œé‚£ä¹ˆå‡½æ•°è¿”å›ç­‰äºåŒºåŸŸçš„å·¦å³è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ª5çš„indexå€¼å’Œæœ€åä¸€ä¸ª5çš„indexå€¼ï¼š{2ï¼Œ3}
public static int[] partition(int[] arr,int l, int r){
    int less = l-1;
    int more = r;
    while(l<more){
        if(arr[l]<arr[r]){
            swap(arr,++less, l++);
        }else if(arr[l]>arr[r]){
            swap(arr, --more, l);
        }else{
            l++;
        }
    }
    swap(arr, more, r);
    return new int[] {less+1, more}
}
```

### ä¸ºä»€ä¹ˆå¿«é€Ÿæ’åºè¦éšæœºåŒ–

ç”±äºåŸºå‡†å€¼æ˜¯éšæœºçš„ï¼Œå› æ­¤æœ€åçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯æ¦‚ç‡æ€§é—®é¢˜ï¼Œè€Œå¦‚æœå»æŠŠè¿™äº›ç»“æœå€¼æ±‚å–æœŸæœ›å€¼ï¼Œå…¶æ—¶é—´å¤æ‚åº¦å°±æ˜¯$O(N * {logN})$ã€‚

åœ¨ä¸Šè¿°æˆ‘ä»¬å·²ç»çŸ¥é“æœ€å¥½çš„æƒ…å†µçš„ Master å…¬å¼æ˜¯$T(N)=2*T(N/2)+O(N)$ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ˆå‡è®¾æ•°ç»„é•¿åº¦ä¸º 5ï¼‰ï¼Œä»¥ä¸‹æƒ…å†µç­‰æ¦‚ç‡ï¼š

> $T(N)=T(N)+O(N)$ // å…¨éƒ¨éƒ½æ˜¯å°äºåŒº  
> $T(N)=T(N/5)+T(4/5*N)+O(N)$ // å°äºåŒº:å¤§äºåŒº=1:4  
> $T(N)=T(2/5*N)+T(3/5*N)+O(N)$ // å°äºåŒº:å¤§äºåŒº=2:3  
> $T(N)=T(3/5*N)+T(2/5*N)+O(N)$ // å°äºåŒº:å¤§äºåŒº=3:2  
> $T(N)=T(4/5*N)+T(1/5*N)+O(N)$ // å°äºåŒº:å¤§äºåŒº=4:1  
> $T(N)=T(N)+O(N)$ // å…¨éƒ¨éƒ½æ˜¯å¤§äºåŒº  
> é€šè¿‡ä¸€å¤§å †æ•°å­¦å…¬å¼ï¼Œæ±‚å¾—çš„æ—¶é—´å¤æ‚åº¦æœŸæœ›å€¼æ˜¯$O(N * {logN})$ã€‚

### å¿«é€Ÿæ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸æ—¶é—´å¤æ‚åº¦

æƒ³è¦çŸ¥é“ç©ºé—´å¤æ‚åº¦å°±éœ€è¦äº†è§£ä»¥ä¸‹ä¸¤ç‚¹ï¼š

- å¿«é€Ÿæ’åºåªæ˜¯ä½¿ç”¨æ•°ç»„åŸæœ¬çš„ç©ºé—´è¿›è¡Œæ’åºï¼Œæ‰€ä»¥æ‰€å ç”¨çš„ç©ºé—´åº”è¯¥æ˜¯å¸¸é‡çº§çš„ï¼Œä½†æ˜¯ç”±äºæ¯æ¬¡åˆ’åˆ†ä¹‹åæ˜¯é€’å½’è°ƒç”¨ï¼Œæ‰€ä»¥é€’å½’è°ƒç”¨åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ä¼šæ¶ˆè€—ä¸€å®šçš„ç©ºé—´ã€‚
- æ¯æ¬¡é€’å½’éœ€è¦çš„ç©ºé—´æ˜¯å›ºå®šçš„ï¼Œæ€»ä½“ç©ºé—´å¤æ‚åº¦å³ä¸ºé€’å½’å±‚æ•°ã€‚
- æ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦éƒ½æ˜¯æ±‚æ¦‚ç‡ç´¯åŠ ã€‚

### æœ€å¥½/å¹³å‡æƒ…å†µ

æœ€å¥½çš„æƒ…å†µæ˜¯æ¯æ¬¡é€’å½’éƒ½å¹³åˆ†æ•°ç»„ï¼Œä¸€å…±éœ€è¦é€’å½’ logN æ¬¡ï¼Œæ¯æ¬¡éœ€è¦ N æ—¶é—´ã€‚ åˆ†æå¦‚ä¸‹ï¼š  
æˆ‘ä»¬å‡è®¾ä¸€å…±æœ‰ N ä¸ªæ•°éœ€è¦æ’åºï¼Œä¹Ÿå°±æ˜¯äºŒå‰æ ‘ä¸€å…±æœ‰ N ä¸ªç»“ç‚¹ã€‚å¦‚æœæŠŠäºŒå‰æ ‘çš„å›¾ç”»å‡ºæ¥ï¼Œæ¯æ¬¡ partitionï¼ˆåˆ†åŒºï¼‰ç›¸å½“äºå¤„ç†æ‰€æœ‰å½“å‰åŒºé—´çš„ç»“ç‚¹ã€‚

- ç¬¬ä¸€å±‚ partition å¤„ç†äº† N ä¸ªç‚¹ã€‚
- ç¬¬äºŒå±‚è°ƒç”¨ partition ä¸¤æ¬¡ï¼Œæ¯æ¬¡å¤„ç† N/2 ä¸ªç‚¹ï¼Œæ€»ä½“è¿˜æ˜¯ N ä¸ªç‚¹ã€‚
- ç¬¬ä¸‰å±‚è°ƒç”¨äº† partition å››æ¬¡ï¼Œæ¯æ¬¡å¤„ç† N/4 ä¸ªç‚¹ï¼Œæ€»ä½“è¿˜æ˜¯ N ä¸ªç‚¹ã€‚

æ‰€ä»¥æ—¶é—´å¤æ‚åº¦ = äºŒå‰æ ‘çš„å±‚æ•°($logN$) \* æ¯å±‚å¤„ç†çš„ç»“ç‚¹ä¸ªæ•° (N)

> æ€»ç»“ï¼šæœ€å¥½/å¹³å‡æƒ…å†µä¸‹ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯$O({logN})$ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯$O(N * {logN})$

### æœ€å·®æƒ…å†µ

åœ¨æœ€å·®çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡éƒ½æŠŠæ•°ç»„åˆ†æˆ 1 å’Œ N-1ï¼Œä¸€å…±éœ€è¦é€’å½’ N æ¬¡ï¼Œæ¯æ¬¡éœ€è¦ N æ—¶é—´ï¼Œæ¯æ¬¡åªå®Œæˆäº†ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆç©ºé—´å¤æ‚åº¦ä¸º$O(N)$

> æ€»ç»“ï¼šæœ€å·®æƒ…å†µä¸‹ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯$O(N)$ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯$O(N^2)$

### é˜®å¼å¿«æ’æœ‰åŠ©äºç†è§£

18 å¹´é˜®ä¸€å³°åœ¨å¾®åšè¢«äººåæ§½äº†å°±æ˜¯å› ä¸ºè¿™ä¸ªï¼Œä¸è¿‡æˆ‘è§‰å¾—è¿™ç§æ–¹å¼æŒºå¥½ç†è§£ï¼Œæ¯”åŸåœ°çš„ç®€å•å¤šäº†ã€‚

```js
const quickSort = function (arr) {
  if (arr.length < 2) return arr;
  // éšæœºé€‰æ‹©0ï½arr.lengthä¹‹é—´é€‰ä¸€ä¸ªåŸºå‡†å€¼
  const pivot = Math.floor(Math.random() * arr.length);
  // å£°æ˜ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«ç”¨äºå­˜æ”¾æ¯”åŸºå‡†å€¼å°çš„æ•°æ®å’Œæ¯”åŸºå‡†å€¼å¤§çš„æ•°æ®
  let minArr = [];
  let maxArr = [];
  // æ ¹æ®åŸºå‡†å€¼å¡«å……æ•°ç»„
  for (let i = 0; i < arr.length; i++) {
    // å¤§äºåŸºå‡†å€¼å°±æ”¾maxArré‡Œ
    if (arr[i] >= arr[pivot] && i !== pivot) {
      maxArr.push(arr[i]);
    }
    // å°äºåŸºå‡†å€¼å°±æ”¾minArré‡Œ
    if (arr[i] < arr[pivot] && i !== pivot) {
      minArr.push(arr[i]);
    }
  }
  // åˆ†åˆ«å¯¹åŸºå‡†å€¼åˆ’åˆ†å‡ºæ¥çš„æ•°ç»„é€’å½’è°ƒç”¨å¿«é€Ÿæ’åºï¼Œç„¶ååˆå¹¶æ•°ç»„
  return [...quickSort(minArr), arr[pivot], ...quickSort(maxArr)];
};
```

### åŠ›æ‰£ 912. æ’åºæ•°ç»„

[åŠ›æ‰£ é“¾æ¥](https://leetcode.cn/problems/sort-an-array/)

```js
var quickSort = function (arr, start, end) {
  if (start < end) {
    // 1.æ‰¾å‡ºä¸€ä¸ªéšæœºæ•°ä½œä¸ºåŸºå‡†å€¼ï¼Œå¹¶ä¸æœ€åä¸€ä¸ªå€¼äº¤æ¢
    swap(arr, start + Math.floor(Math.random() * (end - start + 1)), end);
    // 2.æ‰¾å‡ºä¸­é—´åŒºåŸŸçš„å·¦å³è¾¹ç•Œindexå€¼
    const p = partition(arr, start, end);
    // 3.é€’å½’æ’åºå°äºåŒºå’Œå¤§äºåŒº
    quickSort(arr, start, p[0] - 1);
    quickSort(arr, p[1] + 1, end);
  }
};
var swap = function (arr, i1, i2) {
  let temp = arr[i1];
  arr[i1] = arr[i2];
  arr[i2] = temp;
};
var partition = function (arr, l, r) {
  // åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š
  // 1.curValue<pivot,åˆ™å½“å‰å€¼ä¸å°äºåŒºä¸‹ä¸€ä¸ªå€¼äº¤æ¢ï¼Œå°äºåŒºå³æ‰©ä¸€ä¸ªï¼Œi++
  // 2.curValue==pivotï¼Œåˆ™i++
  // 3.curValue>pivotï¼Œåˆ™å½“å‰å€¼ä¸å¤§äºåŒºå‰ä¸€ä¸ªäº¤æ¢ï¼Œå¤§äºåŒºå·¦æ‰©ä¸€ä¸ªï¼Œiä¸åŠ¨

  let less = l - 1; // å®šä¹‰å°äºåŒºçš„èŒƒå›´ä¸º ï¼ˆè´Ÿæ— ç©·å¤§ï¼Œless]
  let more = r; // å®šä¹‰å¤§äºåŒºçš„èŒƒå›´ä¸º [r+1, æ­£æ— ç©·å¤§ï¼‰
  while (l < more) {
    if (arr[l] < arr[r]) {
      swap(arr, l++, ++less);
    } else if (arr[l] > arr[r]) {
      swap(arr, l, --more);
    } else {
      l++;
    }
  }
  // æ­¤æ—¶å·²ç»åˆ’åˆ†ä¸ºå››ä¸ªåŒºåŸŸäº†ï¼šå°äºåŒºã€ç­‰äºåŒº[æ— æ•°ä¸ªpivot]ã€å¤§äºåŒºã€ä¸€ä¸ªpivot
  // ç„¶åéœ€è¦å°†å¤§äºåŒºçš„ä¸€ä¸ªæ•°ä¸æœ€åä¸€ä¸ªpivotäº¤æ¢ï¼Œé‚£ä¹ˆå°±ä¼šè¢«åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼šå°äºåŒºã€ç­‰äºåŒºã€å¤§äºåŒº
  swap(arr, more, r);
  return [less + 1, more];
};
var sortArray = function (nums) {
  quickSort(nums, 0, nums.length - 1);
  return nums;
};
```

## æ’åºæ€»ç»“ ğŸ’›

### å½’çº³

| ç®—æ³•     | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | ç¨³å®šæ€§                                       |
| -------- | ---------- | ---------- | -------------------------------------------- |
| é€‰æ‹©æ’åº | $O(N^2)$   | $O(1)$     | æ—                                            |
| å†’æ³¡æ’åº | $O(N^2)$   | $O(1)$     | å¯ä»¥å®ç°ç¨³å®šæ€§ï¼ˆå…³é”®çœ‹æ•°å€¼ç›¸ç­‰æ—¶æ˜¯å¦è¦äº¤æ¢ï¼‰ |
| æ’å…¥æ’åº | $O(N^2)$   | $O(1)$     | å¯ä»¥å®ç°ç¨³å®šæ€§ï¼ˆå…³é”®çœ‹æ•°å€¼ç›¸ç­‰æ—¶æ˜¯å¦è¦äº¤æ¢ï¼‰ |
| å½’å¹¶æ’åº | $O(NlogN)$ | $O(N)$     | å¯ä»¥ï¼ˆå…³é”®æ˜¯ merge æ—¶å¦‚ä½•å¤„ç†ç›¸ç­‰çš„æƒ…å†µï¼‰    |
| å¿«é€Ÿæ’åº | $O(NlogN)$ | $O(logN)$  | æ—                                            |
| å †æ’åº   | $O(NlogN)$ | $O(1)$     | æ—                                            |

- ä¸å…·å¤‡ç¨³å®šæ€§çš„æ’åºï¼šé€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å †æ’åº
- å…·å¤‡ç¨³å®šæ€§çš„æ’åºï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€å½’å¹¶æ’åºã€ä¸€åˆ‡æ¡¶æ’åºæ€æƒ³ä¸‹çš„æ’åº

### å¦‚ä½•é€‰æ‹©æ’åºç®—æ³•

ä»ä¸Šè¿°è¡¨æ ¼ä¸­å¯ä»¥é€‰å‡ºä¸‰ç§æœ€ä¼˜çš„ï¼Œä¸‹é¢è¿›è¡Œåˆ†æä¼˜ç¼ºç‚¹ï¼š

- å½’å¹¶æ’åºï¼šæœ‰ç¨³å®šæ€§ï¼›ç©ºé—´å¤æ‚åº¦è¾ƒé«˜
- å¿«é€Ÿæ’åºï¼šå¸¸æ•°é¡¹æŒ‡æ ‡æœ€ä½ï¼Œæ„å‘³æœ€å¿«ï¼›ä½†æ²¡æœ‰ç¨³å®šæ€§ï¼Œç©ºé—´å¤æ‚åº¦æ— æ³•åšåˆ° O(1)
- å †æ’åºï¼šç©ºé—´ä½¿ç”¨æœ€å°‘

> ç»“è®ºï¼šå¦‚æœè¦é€‰æ‹©ä¸€ç§æ’åºçš„è¯ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé€‰æ‹©**å¿«é€Ÿæ’åº**ï¼ˆå¸¸æ•°é¡¹æŒ‡æ ‡æ¯”å½’å¹¶æ’åºæœ€ä½ï¼‰ï¼Œå¦‚æœæœ‰ç©ºé—´é™åˆ¶ï¼Œå°±é€‰æ‹©**å †æ’åº**ï¼Œéœ€è¦ç¨³å®šæ€§ç”¨**å½’å¹¶æ’åº**ã€‚ ç›®å‰æ²¡æœ‰æ‰¾åˆ°æ—¶é—´å¤æ‚åº¦ O(N\*logN)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œåˆç¨³å®šçš„æ’åºã€‚

### Q1ï¼šåŸºäºæ¯”è¾ƒçš„æ’åºï¼Œèƒ½å¦åšåˆ°æ—¶é—´å¤æ‚åº¦å°‘äº O(N\*logN)ï¼Ÿ

ç›®å‰ä¸è¡Œ

### Q2ï¼šåœ¨æ—¶é—´å¤æ‚åº¦ä¸º O(N\*logN)çš„å‰æä¸‹ï¼Œæ˜¯å¦èƒ½åšåˆ°ç©ºé—´å¤æ‚åº¦å°‘äº O(N)ï¼Œå¹¶å…·å¤‡ç¨³å®šæ€§ï¼Ÿ

ç›®å‰ä¸è¡Œ

## å·¥ç¨‹ä¸Šå¯¹æ’åºçš„æ”¹è¿›

- å……åˆ†åˆ©ç”¨ O(N\*logN)å’Œ O(N^2)æ’åºå„è‡ªçš„ä¼˜åŠ¿ï¼šå®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šåªä½¿ç”¨ä¸€ç§ç®—æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨ç»¼åˆç®—æ³•ï¼Œæ¯”å¦‚å¿«æ’+æ’å…¥ï¼Œä¹Ÿå¯ä»¥å½’å¹¶+æ’å…¥ã€‚
- ç¨³å®šæ€§çš„è€ƒè™‘

### å¿«æ’+æ’å…¥

æ¯”å¦‚è¯´ï¼Œç»å…¸çš„å¿«æ’ç®—æ³•æ˜¯è¿™æ ·çš„ï¼š

```java
public static void quickSort(int[] arr, int l,int r){
    if(l==r) return;
    swap(arr, l+(int)(Math.random() * (R-L+1)), r);
    int[] p = partition(arr,l,r);
    quickSort(arr,l,p[0]-1); // å°äºåŒº
    quickSort(arr,p[1]+1,r); // å¤§äºåŒº
}
```

**å¦‚ä½•æ”¹è¿›ï¼Ÿ**  
 å½“æ ·æœ¬é‡å¤§çš„æ—¶å€™ï¼Œåˆ©ç”¨å¿«æ’çš„è°ƒåº¦æ€æƒ³ï¼Œå·¦å³ä¸¤éƒ¨åˆ†è¿›è¡Œé€’å½’ï¼Œæ‰€ä»¥æ€»ä½“çš„è°ƒåº¦æ–¹å¼æ˜¯å¿«æ’ï¼›ä½†åœ¨å°æ ·æœ¬é‡ä¸‹ï¼Œå¯¹è¿™å°æ ·æœ¬éƒ¨åˆ†è¿›è¡Œæ’å…¥æ’åºã€‚ä¹Ÿå°±æ˜¯è¯´å¿«æ’+æ’å…¥ç»“åˆçš„æ–¹å¼ã€‚å› ä¸ºå¿«æ’æ—¶é—´å¤æ‚åº¦ O(N\*logN)ï¼Œæ’å…¥æ—¶é—´å¤æ‚åº¦æ˜¯ O(N^2)ï¼Œåœ¨å°æ ·æœ¬æƒ…å†µä¸‹ï¼Œæ’å…¥æ’åºçš„ç“¶é¢ˆä¸æ˜æ˜¾ï¼Œå¹¶ä¸”å…¶å¸¸æ•°æ—¶é—´å¾ˆä½ï¼Œä¸¤ä¸ªç®—æ³•ç»“åˆï¼Œå°±æ˜¯ç»“åˆäº†å°æ ·æœ¬ä¸Šæ’å…¥æ’åºçš„å¸¸æ•°æ—¶é—´ä½çš„ä¼˜åŠ¿ä¸å¤§æ ·æœ¬ä¸Šå¿«é€Ÿæ’åºçš„è°ƒåº¦ä¼˜åŠ¿ã€‚

å½“æ ·æœ¬é‡æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œåœ¨å°æ ·æœ¬é‡ä¸Šç›´æ¥åšæ’å…¥æ’åºã€‚æˆ‘ä»¬å¯ä»¥æ”¹æˆè¿™æ ·ï¼š

```java
public static void quickSort(int[] arr, int l,int r){
   if(l==r) return;
   if(l>r-60){
       // åœ¨arr[l...r]æ’å…¥æ’åº
       // O(N^2)å°æ ·æœ¬é‡çš„æ—¶å€™ï¼Œè·‘å¾—å¿«
       return;
   }
   swap(arr, l+(int)(Math.random() * (R-L+1)), r);
   int[] p = partition(arr,l,r);
   quickSort(arr,l,p[0]-1); // å°äºåŒº
   quickSort(arr,p[1]+1,r); // å¤§äºåŒº
}
```

## ç³»ç»Ÿä¸­çš„æ’åºç®—æ³•

**å¾ˆå¤šç³»ç»Ÿè‡ªå¸¦äº†æ’åºç®—æ³•ï¼Œå†…éƒ¨æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ**

ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œä½¿ç”¨çš„æ˜¯å¿«æ’ï¼Œå¦‚æœæ˜¯éåŸºç¡€ç±»å‹ï¼ˆè‡ªå®šä¹‰ç±»å‹ï¼‰ï¼Œå°±ç”¨çš„å½’å¹¶æ’åºã€‚  
 è¿™ç§åšæ³•æ˜¯åŸºäºç¨³å®šæ€§çš„è€ƒé‡ã€‚å¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œä¼šè®¤ä¸ºç¨³å®šæ€§æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå°±é»˜è®¤ä½¿ç”¨å¸¸æ•°æ—¶é—´æ¯”è¾ƒä½çš„å¿«é€Ÿæ’åºï¼Œå¦‚æœæ˜¯éåŸºç¡€ç±»å‹çš„æ•°æ®ï¼Œç³»ç»Ÿæ— æ³•åˆ¤å®šä½ æ˜¯å¦éœ€è¦ç¨³å®šæ€§ï¼Œå°±ä½¿ç”¨å½’å¹¶æ’åºæ¥ä¿è¯ç¨³å®šæ€§ã€‚

åœ¨ C/C++/Java çš„åº•å±‚ï¼Œåº•å±‚åº“çš„æ’åºï¼Œä»£ç éå¸¸å¤šï¼Œåœ¨æè‡´ä¼˜åŒ–æ’åºç®—æ³•ï¼Œä½†å½’æ ¹ç»“åº•å°±æ˜¯åˆ©ç”¨å„ä¸ªæ’åºçš„ä¼˜åŠ¿ï¼Œè¿›è¡Œæ‹¼è£…ç»“åˆã€‚

> å¯¹äºç®—æ³•çš„ä¼˜åŒ–ï¼Œéƒ½æ˜¯ä»**ç¨³å®šæ€§**ã€**å¤æ‚åº¦**è¿™ä¸¤ä¸ªç»´åº¦è¿›è¡Œè€ƒé‡çš„ã€‚

## å¸¸è§çš„å…³äºæ’åºç®—æ³•çš„å‘

- å½’å¹¶æ’åºçš„é¢å¤–ç©ºé—´å¤æ‚åº¦å¯ä»¥å˜æˆ O(1)ï¼Œä½†æ˜¯éå¸¸éš¾ï¼Œä¸éœ€è¦æŒæ¡ï¼Œæœ‰å…´è¶£å¯ä»¥æœâ€œå½’å¹¶æ’åº å†…éƒ¨ç¼“å­˜æ³•â€ï¼ˆè¿™ç§åšæ³•ä¼šå¤±å»ç¨³å®šæ€§ï¼Œå¹¶ä¸”ä»£ç è¾ƒéš¾å®ç°ï¼Œä¸å¦‚ç›´æ¥ä½¿ç”¨å †æ’åºï¼‰ã€‚
- â€œåŸåœ°å½’å¹¶æ’åºâ€çš„å¸–å­éƒ½æ˜¯åƒåœ¾ï¼Œè™½ç„¶ä¼šè®©å½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦é™ä¸º O(1)ï¼Œä½†åŒæ—¶ä¼šè®©æ—¶é—´å¤æ‚åº¦å˜æˆ O(N^2)ï¼Œä¸å¦‚ç›´æ¥ç”¨æ’å…¥æ’åº
- å¿«é€Ÿæ’åºå¯ä»¥åšåˆ°ç¨³å®šæ€§é—®é¢˜ï¼Œä½†æ˜¯éå¸¸éš¾ï¼Œä¸éœ€è¦æŒæ¡ï¼Œå¯ä»¥æœâ€œ01 stable sortâ€ã€‚ï¼ˆä¼šå°†ç©ºé—´å¤æ‚åº¦æé«˜ä¸º O(N)ï¼Œä¸å¦‚ç›´æ¥ç”¨å½’å¹¶ï¼‰
- æ‰€æœ‰çš„æ”¹è¿›éƒ½ä¸é‡è¦ï¼Œå› ä¸ºç›®å‰æ²¡æœ‰æ‰¾åˆ°æ—¶é—´å¤æ‚åº¦ O(N\*logN)ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œåˆç¨³å®šçš„æ’åºã€‚
- æœ‰ä¸€é“é¢˜ç›®ï¼Œæ˜¯å¥‡æ•°æ”¾åœ¨æ•°ç»„å·¦è¾¹ï¼Œå¶æ•°æ”¾åœ¨æ•°ç»„å³è¾¹ï¼Œè¿˜è¦æ±‚åŸå§‹çš„ç›¸å¯¹æ¬¡åºä¸å˜ï¼Œç¢°åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æ€¼é¢è¯•å®˜ã€‚ï¼ˆç»å…¸çš„å¿«æ’åšä¸åˆ°ç¨³å®šæ€§ï¼Œå¿«æ’çš„ 0 å’Œ 1 æ ‡å‡†ç›¸å½“äºå¥‡å¶æ ‡å‡†ï¼‰

## é¡ºåºæœç´¢

:::success{title=æ€è·¯}

- 1.éå†æ•°ç»„
- 2.æ‰¾åˆ°è·Ÿç›®æ ‡å€¼ç›¸ç­‰çš„å…ƒç´ ï¼Œå°±è¿”å›å®ƒçš„ä¸‹æ ‡
- 3.éå†ç»“æŸåï¼Œå¦‚æœæ²¡æœ‰æœç´¢åˆ°ç›®æ ‡å€¼ï¼Œå°±è¿”å›-1
  :::

:::info{title=å¤æ‚åº¦}

- æ—¶é—´å¤æ‚åº¦ä¸º`O(N)`
- ç©ºé—´å¤æ‚åº¦ä¸º`O(1)`
  :::

```js
Array.prototype.sequentialSearch = function (item) {
  for (let i = 0; i < this.length; i++) {
    if (this[i] === item) {
      return i;
    }
  }
  return -1;
};

const res = [5, 7, 3, 2, 1].sequentialSearch(4);
console.log(res);
```

## äºŒåˆ†æœç´¢

- [æˆ‘ä½œäº†é¦–è¯—ï¼Œä¿ä½ é—­ç€çœ¼ç›ä¹Ÿèƒ½å†™å¯¹äºŒåˆ†æŸ¥æ‰¾](https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&mid=2247485044&idx=1&sn=e6b95782141c17abe206bfe2323a4226&chksm=9bd7f87caca0716aa5add0ddddce0bfe06f1f878aafb35113644ebf0cf0bfe51659da1c1b733&scene=21#wechat_redirect)

:::success{title=æ€è·¯}

- 1.ä»æ•°ç»„ä¸­é—´å…ƒç´ å¼€å§‹ï¼Œå¦‚æœä¸­é—´å…ƒç´ æ­£å¥½æ˜¯ç›®æ ‡å€¼ï¼Œåˆ™æœç´¢ç»“æŸ
- 2.å¦‚æœç›®æ ‡å€¼å¤§äºæˆ–å°äºä¸­é—´å…ƒç´ ï¼Œåˆ™åœ¨å¤§äºæˆ–å°äºä¸­é—´å…ƒç´ çš„é‚£ä¸€åŠæ•°ç»„ä¸­æœç´¢
  :::

:::info{title=å¤æ‚åº¦}

- æ—¶é—´å¤æ‚åº¦ä¸º`O(logN)`ï¼ˆæ¯æ¬¡æ¯”è¾ƒéƒ½ä½¿æœç´¢èŒƒå›´ç¼©å°ä¸€åŠï¼‰
- ç©ºé—´å¤æ‚åº¦ä¸º`O(1)`
  :::

```js
Array.prototype.binarySearch = function (item) {
  // éœ€è¦ä¸€ä¸ªæœ‰åºçš„æ•°ç»„ï¼Œéœ€è¦å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åº
  // this.sort()
  let low = 0;
  let high = this.length - 1;
  while (low <= high) {
    const mid = Math.floor((low + high) / 2);
    const element = this[mid];
    if (element < item) {
      low = mid + 1;
    } else if (element > item) {
      high = mid - 1;
    } else {
      return mid;
    }
  }
  return -1;
};

const res = [1, 2, 3, 4, 5].binarySearch(1);
console.log(res);
```

### äºŒåˆ†æ³•å˜å½¢

- åœ¨ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­ï¼Œæ‰¾æŸä¸ªæ•°æ˜¯å¦å­˜åœ¨
- åœ¨ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­ï¼Œæ‰¾>=æŸä¸ªæ•°æœ€å·¦ä¾§çš„ä½ç½®
- å±€éƒ¨æœ€å°å€¼é—®é¢˜
  ä¾‹å¦‚ï¼šåœ¨ä¸€ä¸ªæ— åºæ•°ç»„ arr ä¸­ï¼Œä»»æ„ä¸¤ä¸ªç›¸é‚»çš„æ•°ä¸ç›¸ç­‰ï¼Œæ±‚ä¸€ä¸ªå±€éƒ¨æœ€å°çš„ä½ç½®ï¼Œè¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸º$O(N)$

### åŠ›æ‰£ 704. äºŒåˆ†æŸ¥æ‰¾

[åŠ›æ‰£ é“¾æ¥](https://leetcode.cn/problems/binary-search/description/)

#### JS ç‰ˆæœ¬

```js
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var search = function (nums, target) {
  let left = 0;
  let right = nums.length - 1;

  while (left <= right) {
    let mid = left + ((right - left) >> 1);
    if (nums[mid] === target) return mid;
    if (nums[mid] > target) {
      right = mid - 1;
    } else if (nums[mid] < target) {
      left = mid + 1;
    }
  }
  return -1;
};
```

#### GO ç‰ˆæœ¬

```go
func search(nums []int, target int) int {
    var left = 0;
    var right = len(nums) - 1;

    for left <= right {
        mid := left + ((right-left)>>1)
        cur := nums[mid]
        if cur == target {
            return mid
        }
        if cur > target {
            right = mid - 1
        }else {
            left = mid + 1
        }
    }
    return -1
}
```

### åŠ›æ‰£ 278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬

[åŠ›æ‰£ é“¾æ¥](https://leetcode.cn/problems/first-bad-version/description/)

```js
/**
 * @param {function} isBadVersion()
 * @return {function}
 */
var solution = function (isBadVersion) {
  /**
   * @param {integer} n Total versions
   * @return {integer} The first bad version
   */
  return function (n) {
    let left = 1;
    let right = n;
    while (left < right) {
      const mid = left + ((right - left) >> 1);
      if (isBadVersion(mid)) {
        right = mid;
      } else {
        left = mid + 1;
      }
    }
    return left;
  };
};
```

### åŠ›æ‰£ 35. æœç´¢æ’å…¥ä½ç½®

[åŠ›æ‰£ é“¾æ¥](https://leetcode.cn/problems/search-insert-position/description/)

```js
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var searchInsert = function (nums, target) {
  let left = 0;
  let right = nums.length - 1;
  while (left <= right) {
    const mid = left + ((right - left) >> 1);
    if (nums[mid] === target) return mid;
    if (nums[mid] > target) {
      right = mid - 1;
    } else {
      left = mid + 1;
    }
  }
  return left;
};
```

### åŠ›æ‰£ 21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

[åŠ›æ‰£ é“¾æ¥](https://leetcode-cn.com/problems/merge-two-sorted-lists/)

:::success{title=è§£é¢˜æ€è·¯}

- ä¸å½’å¹¶æ’åºä¸­çš„åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„å¾ˆç›¸ä¼¼
- å°†æ•°ç»„æ›¿æ¢æˆé“¾è¡¨å°±èƒ½è§£æ­¤é¢˜
  :::

:::info{title=è§£é¢˜æ€è·¯}

- æ—¶é—´å¤æ‚åº¦ o(n)ï¼Œn æ˜¯ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ä¹‹å’Œ
- ç©ºé—´å¤æ‚åº¦ o(1)
  :::

### åŠ›æ‰£ 69.X çš„å¹³æ–¹æ ¹

[åŠ›æ‰£ é“¾æ¥](https://leetcode.cn/problems/sqrtx/description/)
